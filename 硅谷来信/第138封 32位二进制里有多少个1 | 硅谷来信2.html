<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.0.9 (458233)"/><meta name="author" content="欧阳深蹲"/><meta name="created" content="2018-07-31 05:20:15 +0000"/><meta name="source" content="desktop.win"/><meta name="source-application" content="evernote.win32"/><meta name="updated" content="2018-07-31 05:59:28 +0000"/><title>第138封 32位二进制里有多少个1 | 硅谷来信2</title></head><body><div><div><a href="evernote:///view/4387463/s18/48c855df-4ab3-491c-bfc6-c49894f1f2d7/48c855df-4ab3-491c-bfc6-c49894f1f2d7/" style="color: #69aa35;">第138封 32位二进制里有多少个1 | 硅谷来信2</a></div><div>一个32位或64位的二进制中，有多少个1，多少个0？</div><div><br/></div><div>计算机分组储存二进制</div><div><b>八个二进制称为一个字节，能表示0-255</b></div><div><br/></div><div>32位二进制，4个字节表示一个整数。-20亿到+20亿</div><div>【4*8=32】</div><div>64位【=8*8】</div><div><br/></div><ul><li><div>最简单方法是挨个数一遍。<br/></div></li></ul><div><br/></div><div>10000000和01111111只相差1。</div><div><b>计算机中判断是否所有位数相反，只需操作一次</b>。即<b>判断一个数是否2的整数次方。</b></div><div>【10000000 = 128 = 2^7；01111111 = 127】</div><div>如，10001000 = 2^7 + 2^3，需要两次判断</div><ul><li><div>换言之，<b>若二进制中有N个1，只需要判断N次即可知道。</b><br/></div></li></ul><div>用到“与”</div><div><br/></div><ul><li><div>对所有二进制编一张大表，直接记录有多少个1，一次查表即可</div></li></ul><div>不实用，占用内存太大。32位要4G内存</div><ul><li><div><b>32位数字变成2组16位数字，建立16位表格</b></div></li></ul><div><b>查表两次，再加起来即可。</b></div><div>当然可以继续拆成4个8位数，查表4次加三次</div><div><br/></div><div>查大表更慢，因为现实中，<b>内存和处理器之间有个高速缓存。</b></div><div>程序先进入高速缓存，才能运行，而<b>通常其只有几M</b></div><div>4G要先进行上千次额外的倒腾。查表只需一次，<b>准备工作做上千次。</b></div><div><br/></div><div>总结：</div><ol><li><div>技术问题，有纯技术解法；也有便于理解的方法</div></li><li><div>时间和空间一定会有冲突。</div><div>还有准备工作的时间不能忽略</div></li><li><div>计算机里的解决方案，往往是一个系统性优化问题</div></li></ol><div><br/></div></div></body></html>