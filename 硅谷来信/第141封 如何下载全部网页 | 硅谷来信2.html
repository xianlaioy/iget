<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.0.9 (458233)"/><meta name="author" content="欧阳深蹲"/><meta name="created" content="2018-08-01 08:03:50 +0000"/><meta name="source" content="desktop.win"/><meta name="source-application" content="evernote.win32"/><meta name="updated" content="2018-08-01 08:27:16 +0000"/><title>第141封 如何下载全部网页 | 硅谷来信2</title></head><body><div><div><a href="evernote:///view/4387463/s18/a04a745c-67bb-481d-b879-615c37a290a6/a04a745c-67bb-481d-b879-615c37a290a6/" style="color: #69aa35;">第141封 如何下载全部网页 | 硅谷来信2</a></div><div>如何构建网络爬虫，下载整个互联网上全部的网页？</div><div><br/></div><div>理论上，从任何网页出发，深度优先/广度优先都能下载整个互联网。</div><div>但现在<b>互联网非常庞大</b>。下载全部1W亿个网页需要32000年。</div><div>可以尝试<b>并行计算。</b><br/></div><div>但需要有地方存储已经下载过的网页。存100亿个网页也要80GB。没有服务器能又那么大的内存。</div><div>分散存放的话，每次下载都要全部访问一边，也不现实。</div><div><br/></div><div><b>商业网络爬虫需要成千上万服务器，并用高速网络连接起来。</b></div><div>建立这种网络系统并协调服务器，需要网络设计和程序设计。</div><div><b>记录的管理，需要用到随机化的原理。【随机算法+先到先得】</b></div><div>服务器看到网页，就知道是否属于自己的工作范围。不属于，可以通知相应服务器去处理。</div><div><br/></div><div>广度和深度，理论上都能在相同时间内爬下静态互联网的内容。</div><div>但<b>网络爬虫</b>，应该是“<b>在有限时间内爬下最多最重要的网页</b>”</div><div><b>最重要的是各个网站的首页</b>，其次是直接链接的网页。</div><div>因此，BFS优于DFS</div><div><br/></div><div>握手成本<b>：下载服务器和网站服务器建立通信的过程，需要额外时间</b>。握手次数太多，下载效率就降低了。</div><div>网络爬虫是由成百上千台服务器组成的分布式系统。</div><div><b>某个网站，一般是特定的一台、几台服务器专门下载。下载完再转入下一个网站</b>。这就有点像DFS</div><div><br/></div><div>网页遍历<b>，有一个下载优先级排序的方法</b>，并非简单的BFS或DFS</div><div>一般这个子系统叫做<b>调度系统。</b></div><div>里面要<b>储存已经发现但尚未下载的网页URL</b>，放入<b>优先级队列</b>中。</div><div><br/></div><div><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>如何分析HTML页面，把里面的超链接地址URL提取出来？</div><div>但现在很多网页，都是用脚本语言生成的，URL不是直接可见的文本，需要运行脚本后才能得到的结果。</div><div>因此，需要做浏览器内核的工程师来写网络爬虫中的解析程序。</div><div><br/></div><div><span>&nbsp;&nbsp;&nbsp;&nbsp; 总结： </span><br/></div><ol><li><div>任何事情，<b>原理要尽可能简单，而实现起来要尽可能周到</b></div></li><li><div>好的工程师，不能简单把由明确答案的问题做好，还要能做好没有答案的<b>开放式问题</b></div></li><li><div>对信息的<b>量级</b>要有体会</div></li></ol><div><br/></div></div></body></html>